chrome.commands.onCommand.addListener(async o=>{try{const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!(e!=null&&e.id)||!e.url){console.warn("활성 탭을 찾을 수 없습니다");return}if(!(e.url.includes("youtube.com/watch")||e.url.includes("youtu.be/"))){console.warn("YouTube watch 페이지가 아닙니다");return}await chrome.tabs.sendMessage(e.id,{type:"COMMAND",command:o})}catch(e){console.error("명령어 처리 실패:",e)}});chrome.runtime.onMessage.addListener((o,e,r)=>{console.log("Background received message:",o)});chrome.runtime.onInstalled.addListener(o=>{o.reason==="install"?console.log("YouTube Loop & Practice 확장프로그램이 설치되었습니다"):o.reason==="update"&&console.log("YouTube Loop & Practice 확장프로그램이 업데이트되었습니다")});
